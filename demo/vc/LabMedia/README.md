LabMedia
===

上位ライブラリ(xie_high) に実装された機能のデモです。  

このデモでは、Media 名前空間の配下の機能を使用します。  
Windows では DirectShow、Linux では V4L2 に依存します。  

## ビルド

プロジェクトを起動してビルドするか、\_build.bat を実行してください。  

	C:> _build.bat

ビルド結果や実行結果を消去するには \_clean.bat を実行してください。  

	C:> _clean.bat


## 実行

コマンドプロンプトを起動し、$(TargetDir) に移動して実行してください。  

	C:> cd Win32\Release  
	C:> demo.exe  


処理の経過を標準出力に表示します。  
出力結果の確認が必要であればリダイレクトを使用してテキストファイルに保存してください。  

	C:> cd Win32\Release  
	C:> demo.exe > result.txt  

処理結果の動画や画像は Results ディレクトリに保存されています。  
一部のサンプルは GRF ファイルを実行ディレクトリに保存しています。  

	$(TargetDir)
	├ demo.exe
	├ Results
	│├ (処理結果の動画や画像)
	├ (GRF ファイル)


## 概要

※ Linux 版では下記の test01, test11 のみ動作します。

TOPIC:  

- test01: 接続されているデバイスの一覧
- test11: カメラから画像を取り込む処理
- test12: カメラから画像を取り込み、動画ファイルへ保存する処理
- test13: カメラ制御とビデオ品質制御
- test21: 動画ファイルを読み込む処理
- test22: 動画ファイルを読み込み、別の動画ファイルに保存する処理
- test31: DeskTop をキャプチャして動画ファイルに保存する処理
- test32: CxCanvas をキャプチャして動画ファイルに保存する処理

----

**test01: 接続されているデバイスの一覧**  

----

**test11: カメラから画像を取り込む処理**  

----

**test12: カメラから画像を取り込み、動画ファイルへ保存する処理**  

----

**test13: カメラ制御とビデオ品質制御**  

----

**test21: 動画ファイルを読み込む処理**  

----

**test22: 動画ファイルを読み込み、別の動画ファイルに保存する処理**  

----

**test31: DeskTop をキャプチャして動画ファイルに保存する処理**  

----

**test32: CxCanvas をキャプチャして動画ファイルに保存する処理**  

----

## 構成

当アプリケーションが依存する Win32 アセンブリをバインドする為に PATH 環境変数が設定されている必要があります。
Windows 版に於いては、DirectShow フィルタをレジストリに登録する必要があります。
PATH 環境変数の設定及び DirectShow フィルタのレジストリ登録については、このリポジトリの README.md をご参照ください。  

(1) 当アプリケーション  
(2) 依存する Win32 アセンブリ  
(3) 依存する DirectShow フィルタ (Windows 版のみ)  

**32bit 環境**  

	XIE  
	├ bin  
	│├ xie_core_x86_100.dll … (2)  
	│├ xie_high_x86_100.dll … (2)  
	│├ xie_ds_x86_100.dll   … (3)  
	├ demo  
	│├ vc  
	││├ $(ProjectDir)  
	│││├ Win32  
	││││├ Release        … $(TargetDir)
	│││││├ demo.exe     … (1)  
